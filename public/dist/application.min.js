"use strict";var ApplicationConfiguration=function(){var applicationModuleName="sense-forage",applicationModuleVendorDependencies=["ngResource","ngCookies","ui.bootstrap","ui.router","slugifier"],registerModule=function(moduleName,dependencies){angular.module(moduleName,dependencies||[]),angular.module(applicationModuleName).requires.push(moduleName)};return{applicationModuleName:applicationModuleName,applicationModuleVendorDependencies:applicationModuleVendorDependencies,registerModule:registerModule}}();angular.module(ApplicationConfiguration.applicationModuleName,ApplicationConfiguration.applicationModuleVendorDependencies),angular.module(ApplicationConfiguration.applicationModuleName).config(["$locationProvider","$urlMatcherFactoryProvider",function($locationProvider,$urlMatcherFactoryProvider){$locationProvider.html5Mode(!0),$urlMatcherFactoryProvider.strictMode(!1)}]),angular.element(document).ready(function(){"#_=_"===window.location.hash&&(window.location.hash="#!"),angular.bootstrap(document,[ApplicationConfiguration.applicationModuleName])}),ApplicationConfiguration.registerModule("core"),angular.module("core").config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state("backendIndex",{url:"/backend",templateUrl:"/public/modules/backend/views/index.client.view.html"})}]),angular.module("core").config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state("backendCategory",{url:"/backend/category",templateUrl:"/public/modules/categories/views/create-category.client.view.html"}).state("backendCategoryEdit",{url:"/backend/category/:slug/edit",templateUrl:"/public/modules/categories/views/edit-category.client.view.html"})}]);var app=angular.module("core");app.controller("CategoriesCreateController",["$scope","$location","Slug","Categories",function($scope,$location,Slug,Categories){$scope.categories=Categories.query(),this.create=function(){var category=new Categories({name:$scope.name,slug:Slug.slugify($scope.name)});category.$save(function(response){$location.path("/backend/category"),$scope.categories=Categories.query(),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})}}]),app.controller("CategoriesEditController",["$scope","$stateParams","$location","Slug","Categories",function($scope,$stateParams,$location,Slug,Categories){this.findBySlug=function(){$scope.category=Categories.filter({"filter[where][slug]":$stateParams.slug})},this.update=function(){var category=$scope.category;category.slug=Slug.slugify($scope.name),category.$update(function(){$location.path("/backend/category")},function(errorResponse){$scope.error=errorResponse.data.message})}}]),angular.module("core").factory("Categories",["$resource","$cookies",function($resource,$cookies){return $resource("http://calm-woodland-4818.herokuapp.com/api/categories/:controller","",{list:{method:"GET"},save:{method:"POST",headers:{Authorization:$cookies.get("user")}},filter:{method:"GET",params:{controller:"findOne"}}})}]),angular.module("core").config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/404"),$stateProvider.state("home",{url:"/",templateUrl:"/public/modules/core/views/home.client.view.html"}).state("about",{url:"/about",templateUrl:"/public/modules/core/views/about.client.view.html"})}]),angular.module("core").config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("login",{url:"/login",templateUrl:"/public/modules/core/views/home.client.view.html"})}]),angular.module("core").factory("Users",["$resource",function($resource){return $resource("https://hudson-leaf-4774.herokuapp.com/api/users/:userId",{categoryId:"@_id"},{list:{method:"GET"}})}]);